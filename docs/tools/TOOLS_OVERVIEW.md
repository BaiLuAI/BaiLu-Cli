# Bailu CLI å·¥å…·ç³»ç»Ÿæ–‡æ¡£

Bailu CLI æä¾›äº†ä¸€å¥—å¼ºå¤§çš„å·¥å…·ç³»ç»Ÿï¼Œå…è®¸ AI æ™ºèƒ½ä½“æ‰§è¡Œå„ç§æ“ä½œã€‚

---

## ğŸ“‹ å·¥å…·åˆ†ç±»

### æ–‡ä»¶ç³»ç»Ÿå·¥å…·
- **read_file** - è¯»å–æ–‡ä»¶å†…å®¹
- **write_file** - å†™å…¥æˆ–åˆ›å»ºæ–‡ä»¶  
- **list_directory** - åˆ—å‡ºç›®å½•å†…å®¹
- **search_files** - æœç´¢æ–‡ä»¶
- **file_exists** - æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨

### ä»£ç åˆ†æå·¥å…·
- **analyze_dependencies** - åˆ†æé¡¹ç›®ä¾èµ–
- **find_references** - æŸ¥æ‰¾ä»£ç å¼•ç”¨
- **get_file_info** - è·å–æ–‡ä»¶ä¿¡æ¯

### Git å·¥å…·
- **git_status** - æŸ¥çœ‹ Git çŠ¶æ€
- **git_diff** - æŸ¥çœ‹æ–‡ä»¶å·®å¼‚
- **git_commit** - æäº¤å˜æ›´ï¼ˆéœ€è¦ç¡®è®¤ï¼‰

### æ‰§è¡Œå·¥å…·
- **run_command** - æ‰§è¡Œ shell å‘½ä»¤ï¼ˆéœ€è¦ç¡®è®¤ï¼‰

---

## ğŸ“– è¯¦ç»†æ–‡æ¡£

### read_file

**ç”¨é€”**ï¼šè¯»å–æ–‡ä»¶å†…å®¹

**å‚æ•°**ï¼š
- `path` (string, required) - æ–‡ä»¶è·¯å¾„

**ç¤ºä¾‹**ï¼š
```json
{
  "tool": "read_file",
  "params": {
    "path": "src/index.ts"
  }
}
```

**è¾“å‡º**ï¼š
```
æ–‡ä»¶å†…å®¹...
```

**ä½¿ç”¨åœºæ™¯**ï¼š
- æŸ¥çœ‹æºä»£ç 
- è¯»å–é…ç½®æ–‡ä»¶
- æ£€æŸ¥æ–‡æ¡£å†…å®¹

---

### write_file

**ç”¨é€”**ï¼šå†™å…¥æˆ–åˆ›å»ºæ–‡ä»¶

**å‚æ•°**ï¼š
- `path` (string, required) - æ–‡ä»¶è·¯å¾„
- `content` (string, required) - æ–‡ä»¶å†…å®¹

**ç¤ºä¾‹**ï¼š
```json
{
  "tool": "write_file",
  "params": {
    "path": "src/new-file.ts",
    "content": "export const hello = 'world';"
  }
}
```

**å®‰å…¨æ€§**ï¼š
- éœ€è¦ç”¨æˆ·ç¡®è®¤ï¼ˆreview æ¨¡å¼ï¼‰
- è‡ªåŠ¨åˆ›å»ºå¤‡ä»½ï¼ˆ.backup æ–‡ä»¶ï¼‰
- å¯é€šè¿‡ /undo å›æ»š

**ä½¿ç”¨åœºæ™¯**ï¼š
- åˆ›å»ºæ–°æ–‡ä»¶
- ä¿®æ”¹ç°æœ‰æ–‡ä»¶
- é‡æ„ä»£ç 

---

### list_directory

**ç”¨é€”**ï¼šåˆ—å‡ºç›®å½•å†…å®¹

**å‚æ•°**ï¼š
- `path` (string, optional) - ç›®å½•è·¯å¾„ï¼Œé»˜è®¤ä¸ºå½“å‰ç›®å½•

**ç¤ºä¾‹**ï¼š
```json
{
  "tool": "list_directory",
  "params": {
    "path": "src"
  }
}
```

**è¾“å‡º**ï¼š
```
ğŸ“ components/
ğŸ“ utils/
ğŸ“„ index.ts
ğŸ“„ App.tsx
```

**ä½¿ç”¨åœºæ™¯**ï¼š
- æ¢ç´¢é¡¹ç›®ç»“æ„
- æŸ¥æ‰¾æ–‡ä»¶ä½ç½®
- äº†è§£ç›®å½•ç»„ç»‡

---

### analyze_dependencies

**ç”¨é€”**ï¼šåˆ†æé¡¹ç›®ä¾èµ–å…³ç³»ï¼ˆBailu CLI ç‹¬ç‰¹åŠŸèƒ½ï¼‰

**å‚æ•°**ï¼š
- `path` (string, optional) - é¡¹ç›®è·¯å¾„ï¼Œé»˜è®¤ä¸ºå½“å‰ç›®å½•

**ç¤ºä¾‹**ï¼š
```json
{
  "tool": "analyze_dependencies",
  "params": {
    "path": "."
  }
}
```

**è¾“å‡º**ï¼š
```
ä¾èµ–å…³ç³»å›¾ï¼š
src/index.ts
  â†’ src/components/App.tsx
  â†’ src/utils/helper.ts

å¾ªç¯ä¾èµ–ï¼š
  æ— 

æœªä½¿ç”¨çš„ä¾èµ–ï¼š
  lodash (åœ¨ package.json ä¸­ä½†æœªä½¿ç”¨)
```

**ä½¿ç”¨åœºæ™¯**ï¼š
- ç†è§£ä»£ç ç»“æ„
- å‘ç°å¾ªç¯ä¾èµ–
- è¯†åˆ«æœªä½¿ç”¨çš„ä¾èµ–
- é‡æ„å‡†å¤‡

---

### run_command

**ç”¨é€”**ï¼šæ‰§è¡Œ shell å‘½ä»¤

**å‚æ•°**ï¼š
- `command` (string, required) - è¦æ‰§è¡Œçš„å‘½ä»¤

**ç¤ºä¾‹**ï¼š
```json
{
  "tool": "run_command",
  "params": {
    "command": "npm test"
  }
}
```

**å®‰å…¨æ€§**ï¼š
- âš ï¸ éœ€è¦ç”¨æˆ·ç¡®è®¤ï¼ˆé«˜é£é™©æ“ä½œï¼‰
- æ˜¾ç¤ºå‘½ä»¤å†…å®¹
- éœ€è¦æ˜ç¡®æ‰¹å‡†

**ä½¿ç”¨åœºæ™¯**ï¼š
- è¿è¡Œæµ‹è¯•
- æ„å»ºé¡¹ç›®
- å®‰è£…ä¾èµ–

---

## ğŸ”’ å®‰å…¨æ¨¡å¼

Bailu CLI æä¾›ä¸‰ç§å®‰å…¨æ¨¡å¼ï¼š

### dry-runï¼ˆæ¼”ä¹ æ¨¡å¼ï¼‰
- åªæ˜¾ç¤ºè®¡åˆ’ï¼Œä¸æ‰§è¡Œ
- ç”¨äºæŸ¥çœ‹ AI çš„æ“ä½œæ„å›¾

### reviewï¼ˆå®¡æŸ¥æ¨¡å¼ï¼‰- é»˜è®¤
- å±é™©æ“ä½œéœ€è¦ç”¨æˆ·ç¡®è®¤
- å®‰å…¨æ“ä½œè‡ªåŠ¨æ‰§è¡Œ

### auto-applyï¼ˆè‡ªåŠ¨æ¨¡å¼ï¼‰
- æ‰€æœ‰æ“ä½œè‡ªåŠ¨æ‰§è¡Œ
- âš ï¸ è°¨æ…ä½¿ç”¨

**åˆ‡æ¢æ¨¡å¼**ï¼š
```bash
# ä½¿ç”¨æ–œçº¿å‘½ä»¤
/mode review

# æˆ–è®¾ç½®ç¯å¢ƒå˜é‡
BAILU_MODE=dry-run
```

---

## ğŸ’¾ å¤‡ä»½ä¸æ¢å¤

### è‡ªåŠ¨å¤‡ä»½
æ‰€æœ‰æ–‡ä»¶ä¿®æ”¹æ“ä½œï¼ˆwrite_fileï¼‰ä¼šè‡ªåŠ¨åˆ›å»º `.backup` æ–‡ä»¶ã€‚

### æŸ¥çœ‹å¤‡ä»½
```bash
/undo
```

### æ¢å¤æ–‡ä»¶
```bash
/undo 1  # æ¢å¤ç¬¬ä¸€ä¸ªå¤‡ä»½
```

### å¤‡ä»½ä½ç½®
```
your-file.ts      # åŸæ–‡ä»¶
your-file.ts.backup  # å¤‡ä»½æ–‡ä»¶
```

---

## ğŸ¯ æœ€ä½³å®è·µ

### 1. å…ˆè¯»åå†™
```
âŒ ç›´æ¥ä¿®æ”¹æ–‡ä»¶
âœ… å…ˆ read_file äº†è§£å†…å®¹ï¼Œå† write_file ä¿®æ”¹
```

### 2. ä½¿ç”¨ç›¸å¯¹è·¯å¾„
```
âŒ C:\Users\...\project\src\index.ts
âœ… src/index.ts
```

### 3. å°æ­¥è¿­ä»£
```
âŒ ä¸€æ¬¡ä¿®æ”¹10ä¸ªæ–‡ä»¶
âœ… ä¸€æ¬¡ä¿®æ”¹1-2ä¸ªæ–‡ä»¶ï¼Œæµ‹è¯•åç»§ç»­
```

### 4. åˆ©ç”¨ä¾èµ–åˆ†æ
```
âœ… é‡æ„å‰å…ˆ analyze_dependencies
âœ… ç†è§£ä»£ç å…³ç³»å†ä¿®æ”¹
```

### 5. å®šæœŸæäº¤
```
âœ… ä½¿ç”¨ /commit è®© AI ç”Ÿæˆæäº¤ä¿¡æ¯
âœ… å°æ­¥æäº¤ï¼Œæ–¹ä¾¿å›æ»š
```

---

## ğŸ”§ å·¥å…·ç»„åˆç¤ºä¾‹

### åœºæ™¯1ï¼šé‡æ„ä¸€ä¸ªæ¨¡å—
```
1. list_directory src/           # äº†è§£ç»“æ„
2. analyze_dependencies .         # åˆ†æä¾èµ–
3. read_file src/old-module.ts   # æŸ¥çœ‹ä»£ç 
4. write_file src/new-module.ts  # åˆ›å»ºæ–°æ¨¡å—
5. /commit                        # æäº¤å˜æ›´
```

### åœºæ™¯2ï¼šä¿®å¤ Bug
```
1. read_file src/buggy-file.ts   # æŸ¥çœ‹é—®é¢˜ä»£ç 
2. write_file src/buggy-file.ts  # ä¿®å¤ä»£ç 
3. run_command "npm test"        # è¿è¡Œæµ‹è¯•
4. /commit                        # æäº¤ä¿®å¤
```

### åœºæ™¯3ï¼šæ·»åŠ æ–°åŠŸèƒ½
```
1. list_directory src/            # æ‰¾åˆ°åˆé€‚ä½ç½®
2. write_file src/new-feature.ts  # åˆ›å»ºæ–°æ–‡ä»¶
3. read_file src/index.ts         # æŸ¥çœ‹å…¥å£æ–‡ä»¶
4. write_file src/index.ts        # æ·»åŠ å¯¼å‡º
5. run_command "npm run build"    # æ„å»ºæµ‹è¯•
6. /commit                         # æäº¤æ–°åŠŸèƒ½
```

---

## âš™ï¸ å·¥å…·é…ç½®

### ä¿®æ”¹å·¥å…·è¡Œä¸º
åœ¨ `.bailu.config.json` ä¸­é…ç½®ï¼š

```json
{
  "safetyMode": "review",
  "autoBackup": true,
  "maxFileSize": 1000000,
  "excludePatterns": [
    "node_modules",
    "dist",
    ".git"
  ]
}
```

---

## ğŸ“Š å·¥å…·ä½¿ç”¨ç»Ÿè®¡

ä½¿ç”¨ `/status` å‘½ä»¤æŸ¥çœ‹ï¼š
```bash
/status

ğŸ“Š å·¥å…·èª¿ç”¨çµ±è¨ˆ:
  read_file: 15 æ¬¡
  write_file: 8 æ¬¡
  analyze_dependencies: 2 æ¬¡
  ...
```

---

## ğŸ› å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆæŸäº›æ“ä½œéœ€è¦ç¡®è®¤ï¼Ÿ
A: ä¸ºäº†å®‰å…¨ï¼Œwrite_fileã€run_command ç­‰å¯èƒ½æœ‰å‰¯ä½œç”¨çš„æ“ä½œéœ€è¦ç”¨æˆ·ç¡®è®¤ã€‚

### Q: å¤‡ä»½æ–‡ä»¶ä¼šè‡ªåŠ¨æ¸…ç†å—ï¼Ÿ
A: ä¸ä¼šï¼Œä½ å¯ä»¥æ‰‹åŠ¨åˆ é™¤ `.backup` æ–‡ä»¶ï¼Œæˆ–ä½¿ç”¨ `.gitignore` å¿½ç•¥å®ƒä»¬ã€‚

### Q: å¦‚ä½•æŸ¥çœ‹å·¥å…·çš„è¯¦ç»†å‚æ•°ï¼Ÿ
A: ä½¿ç”¨ `/help` å‘½ä»¤æˆ–æŸ¥çœ‹æœ¬æ–‡æ¡£ã€‚

### Q: å¯ä»¥æ·»åŠ è‡ªå®šä¹‰å·¥å…·å—ï¼Ÿ
A: å½“å‰ç‰ˆæœ¬æš‚ä¸æ”¯æŒï¼Œæœªæ¥ç‰ˆæœ¬ä¼šè€ƒè™‘æ·»åŠ æ’ä»¶ç³»ç»Ÿã€‚

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [æ–œçº¿å‘½ä»¤å‚è€ƒ](../SLASH_COMMANDS.md)
- [é…ç½®æ–‡ä»¶è¯´æ˜](../CONFIG.md)
- [æœ€ä½³å®è·µ](../BEST_PRACTICES.md)

---

**æœ€åæ›´æ–°**: 2025-11-23
**ç‰ˆæœ¬**: 0.2.4
